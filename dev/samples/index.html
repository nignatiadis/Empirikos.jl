<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Empirical Bayes samples · Empirikos</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Empirikos</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Empirical Bayes samples</a><ul class="internal"><li><a class="tocitem" href="#Example:-StandardNormalSample"><span>Example: StandardNormalSample</span></a></li><li><a class="tocitem" href="#Interface"><span>Interface</span></a></li><li><a class="tocitem" href="#Other-implemented-EBayesSample-types"><span>Other implemented EBayesSample types</span></a></li></ul></li><li><a class="tocitem" href="../convexpriors/">Convex prior classes</a></li><li><a class="tocitem" href="../estimation/">Prior Estimation</a></li><li><a class="tocitem" href="../flocalizations/">F-Localizations</a></li><li><a class="tocitem" href="../estimands/">Estimands</a></li><li><a class="tocitem" href="../intervals/">Confidence intervals</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Empirical Bayes samples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Empirical Bayes samples</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/nignatiadis/Empirikos.jl/blob/master/docs/src/samples.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Empirical-Bayes-samples"><a class="docs-heading-anchor" href="#Empirical-Bayes-samples">Empirical Bayes samples</a><a id="Empirical-Bayes-samples-1"></a><a class="docs-heading-anchor-permalink" href="#Empirical-Bayes-samples" title="Permalink"></a></h1><p>The design choice of this package, is that each sample is wrapped in a type that represents its likelihood. This works well, since in the empirical Bayes problem, we typically impose (simple) assumptions on the distribution of <span>$Z_i \mid \mu_i$</span> and complexity emerges from making compound or nonparametric assumptions on the <span>$\mu_i$</span> and sharing information across <span>$i$</span>. The main advantage is that it then makes it easy to add new likelihoods and have it automatically integrate with the rest of the package (say the nonparametric maximum likelihood estimator) through Julia&#39;s multiple dispatch. </p><p>The abstract type is </p><article class="docstring"><header><a class="docstring-binding" id="Empirikos.EBayesSample" href="#Empirikos.EBayesSample"><code>Empirikos.EBayesSample</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">EBayesSample{T}</code></pre><p>Abstract type representing empirical Bayes samples with realizations of type <code>T</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/ebayes_samples.jl#L5-L9">source</a></section></article><h2 id="Example:-StandardNormalSample"><a class="docs-heading-anchor" href="#Example:-StandardNormalSample">Example: StandardNormalSample</a><a id="Example:-StandardNormalSample-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-StandardNormalSample" title="Permalink"></a></h2><p>We explain the interface in the most well-studied empirical Bayes setting, namely the Gaussian compound decision problem wherein <span>$Z_i \mid \mu_i \sim \mathcal{N}(\mu_i,1)$</span>.  Such a sample is represented through the <code>StandardNormalSample</code> type:</p><article class="docstring"><header><a class="docstring-binding" id="Empirikos.StandardNormalSample" href="#Empirikos.StandardNormalSample"><code>Empirikos.StandardNormalSample</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">StandardNormalSample(Z)</code></pre><p>An observed sample <span>$Z$</span> drawn from a Normal distribution with known variance <span>$\sigma^2 =1$</span>.</p><p class="math-container">\[Z \sim \mathcal{N}(\mu, 1)\]</p><p><span>$\mu$</span> is assumed unknown. The type above is used when the sample <span>$Z$</span> is to be used for estimation or inference of <span>$\mu$</span>.</p><pre><code class="language-julia">StandardNormalSample(0.5)          #Z=0.5</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/samples/normal.jl#L33-L47">source</a></section></article><p>The type can be used in three ways. First, say we observe <span>$Z_i=1.0$</span>, then we reprent that as <code>Z = StandardNormalSample(1.0)</code>.  Two more advanced functionalities consist of <code>StandardNormalSample(missing)</code>, which represents the random variable <span>$Z_i$</span> without having observed its realization yet. Finally, <code>StandardNormalSample(Interval(0.0,1.0))</code> represents a <span>$Z_i$</span> whose realization lies in <span>$[0,1]$</span>; this is useful to conduct rigorous discretizations (that can speed up many estimation algorithms). We note that open, closed, unbounded intervals and so forth are allowed, cf. the intervals in the <a href="https://github.com/invenia/Intervals.jl">Intervals.jl</a> package.</p><h2 id="Interface"><a class="docs-heading-anchor" href="#Interface">Interface</a><a id="Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Interface" title="Permalink"></a></h2><p>The main interface functions are the following:</p><article class="docstring"><header><a class="docstring-binding" id="Empirikos.likelihood_distribution" href="#Empirikos.likelihood_distribution"><code>Empirikos.likelihood_distribution</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">likelihood_distribution(Z::EBayesSample, μ::Number)</code></pre><p>Returns the distribution <span>$p(\cdot \mid \mu)$</span> of <span>$Z \mid \mu$</span> (the return type being <code>Distributions.jl</code> Distribution).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; likelihood_distribution(StandardNormalSample(1.0), 2.0)
Normal{Float64}(μ=2.0, σ=1.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/ebayes_samples.jl#L16-L27">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>response</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="Empirikos.marginalize" href="#Empirikos.marginalize"><code>Empirikos.marginalize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">marginalize(Z::EBayesSample, prior::Distribution)</code></pre><p>Given a <code>prior</code> distribution <span>$G$</span> and  <code>EBayesSample</code> <span>$Z$</span>, return that marginal distribution of <span>$Z$</span>. Works for <code>EBayesSample{Missing}</code>`, i.e., no realization is needed.</p><p><strong>Examples</strong></p><p><code>julia-repl julia&gt; marginalize(StandardNormalSample(1.0), Normal(2.0, sqrt(3))) Normal{Float64}(μ=2.0, σ=1.9999999999999998)</code>`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/ebayes_samples.jl#L67-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Distributions.pdf-Tuple{Distribution,EBayesSample}" href="#Distributions.pdf-Tuple{Distribution,EBayesSample}"><code>Distributions.pdf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">pdf(prior::Distribution, Z::EBayesSample)</code></pre><p>Given a <code>prior</code> <span>$G$</span> and <code>EBayesSample</code> <span>$Z$</span>, compute the marginal density of <code>Z</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; Z = StandardNormalSample(1.0)
Z=     1.0 | σ=1.0
julia&gt; prior = Normal(2.0, sqrt(3))
Normal{Float64}(μ=2.0, σ=1.7320508075688772)
julia&gt; pdf(prior, Z)
0.17603266338214976
julia&gt; pdf(Normal(2.0, 2.0), 1.0)
0.17603266338214976</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/ebayes_samples.jl#L123-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Distributions.cdf-Tuple{Distribution,EBayesSample}" href="#Distributions.cdf-Tuple{Distribution,EBayesSample}"><code>Distributions.cdf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">cdf(prior::Distribution, Z::EBayesSample)</code></pre><p>Given a <code>prior</code> <span>$G$</span> and <code>EBayesSample</code> <span>$Z$</span>, evaluate the CDF of the marginal distribution of <span>$Z$</span> at <code>response(Z)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/ebayes_samples.jl#L141-L146">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Distributions.ccdf-Tuple{Distribution,EBayesSample}" href="#Distributions.ccdf-Tuple{Distribution,EBayesSample}"><code>Distributions.ccdf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ccdf(prior::Distribution, Z::EBayesSample)</code></pre><p>Given a <code>prior</code> <span>$G$</span> and <code>EBayesSample</code> <span>$Z$</span>, evaluate the complementary CDF of the marginal distribution of <span>$Z$</span> at <code>response(Z)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/ebayes_samples.jl#L148-L153">source</a></section></article><h2 id="Other-implemented-EBayesSample-types"><a class="docs-heading-anchor" href="#Other-implemented-EBayesSample-types">Other implemented EBayesSample types</a><a id="Other-implemented-EBayesSample-types-1"></a><a class="docs-heading-anchor-permalink" href="#Other-implemented-EBayesSample-types" title="Permalink"></a></h2><p>Currently, the following samples have been implemented.</p><article class="docstring"><header><a class="docstring-binding" id="Empirikos.NormalSample" href="#Empirikos.NormalSample"><code>Empirikos.NormalSample</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NormalSample(Z,σ)</code></pre><p>An observed sample <span>$Z$</span> drawn from a Normal distribution with known variance <span>$\sigma^2 &gt; 0$</span>.</p><p class="math-container">\[Z \sim \mathcal{N}(\mu, \sigma^2)\]</p><p><span>$\mu$</span> is assumed unknown. The type above is used when the sample <span>$Z$</span> is to be used for estimation or inference of <span>$\mu$</span>.</p><pre><code class="language-julia">NormalSample(0.5, 1.0)          #Z=0.5, σ=1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/samples/normal.jl#L3-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Empirikos.BinomialSample" href="#Empirikos.BinomialSample"><code>Empirikos.BinomialSample</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BinomialSample(Z, n)</code></pre><p>An observed sample <span>$Z$</span> drawn from a Binomial distribution with <code>n</code> trials.</p><p class="math-container">\[Z \sim \text{Binomial}(n, p)\]</p><p><span>$p$</span> is assumed unknown. The type above is used when the sample <span>$Z$</span> is to be used for estimation or inference of <span>$p$</span>.</p><pre><code class="language-julia">BinomialSample(2, 10)          # 2 out of 10 trials successful</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/samples/binomial.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Empirikos.PoissonSample" href="#Empirikos.PoissonSample"><code>Empirikos.PoissonSample</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PoissonSample(Z, E)</code></pre><p>An observed sample <span>$Z$</span> drawn from a Poisson distribution,</p><p class="math-container">\[Z \sim \text{Poisson}(\mu \cdot E).\]</p><p>The multiplying intensity <span>$E$</span> is assumed to be known (and equal to <code>1.0</code> by default), while <span>$\mu$</span> is assumed unknown. The type above is used when the sample <span>$Z$</span> is to be used for estimation or inference of <span>$\mu$</span>.</p><pre><code class="language-julia">PoissonSample(3)
PoissonSample(3, 1.5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nignatiadis/Empirikos.jl/blob/b0389aa7b81dce5387ae6b0a0953ece41e5ae2ab/src/samples/poisson.jl#L1-L17">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction</a><a class="docs-footer-nextpage" href="../convexpriors/">Convex prior classes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 9 March 2021 10:17">Tuesday 9 March 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
